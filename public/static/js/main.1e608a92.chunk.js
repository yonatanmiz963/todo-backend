(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},47:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(17),o=n.n(a),s=(n(40),n(41),n(11)),i=n(4),u=n(14),d=n(12),l=(n(42),n(7)),j=(n(47),n(3)),b=n.n(j),p=n(6),O=n(33),f="/api/",h=n.n(O).a.create({withCredentials:!0}),v=function(e,t){return w(e,"GET",t)},x=function(e,t){return w(e,"POST",t)},m=function(e,t){return w(e,"PUT",t)},T=function(e,t){return w(e,"DELETE",t)};function w(e){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(b.a.mark((function e(t){var n,r,c,a=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"GET",r=a.length>2&&void 0!==a[2]?a[2]:null,e.prev=2,e.next=5,h({url:"".concat(f).concat(t),method:n,data:r,params:"GET"===n?r:null});case 5:return c=e.sent,e.abrupt("return",c.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(r)),console.dir(e.t0),e.t0.response&&e.t0.response.status,e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var D={query:function(){return y.apply(this,arguments)},save:function(e){return _.apply(this,arguments)},remove:function(e){return S.apply(this,arguments)}};function y(){return(y=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v("todo/"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T("todo/".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._id){e.next=4;break}return e.abrupt("return",x("todo/",t));case 4:return e.abrupt("return",m("todo/edit/".concat(t._id),t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return function(){var t=Object(p.a)(b.a.mark((function t(n){var r,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=!e._id,t.next=4,D.save(e);case 4:return c=t.sent,r?n({type:"ADD_TODO",todo:c}):(n({type:"UPDATE_TODO",updatedTodo:c}),n({type:"SET_EDIT_TODO",todoToEdit:null})),t.abrupt("return",c);case 9:t.prev=9,t.t0=t.catch(0),console.log("err:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}var N=n(34),k=n.n(N),C=n(9),A=n(10),L=n(0),I=function(e){var t=e.todo,n=Object(l.b)();return Object(L.jsxs)("div",{className:t.isDone?"todo-preview done":"todo-preview",children:[Object(L.jsx)("div",{className:"desc-wrapper",children:Object(L.jsx)("p",{children:t.description})}),Object(L.jsx)("div",{className:"createdAt-wrapper",children:Object(L.jsx)("p",{children:Object(L.jsx)(k.a,{format:"LLLL",children:t.createdAt})})}),Object(L.jsxs)("div",{className:"actions-wrapper",children:[Object(L.jsx)("button",{className:"remove-btn",title:"Remove",onClick:function(){var e;n((e=t._id,function(){var t=Object(p.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.remove(e);case 3:return r=t.sent,n({type:"REMOVE_TODO",todoId:e}),t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.log("err:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))},children:Object(L.jsx)(C.a,{icon:A.e})}),Object(L.jsx)("button",{className:"edit-btn",title:"Edit",onClick:function(){var e;n((e=t,function(t){t({type:"SET_EDIT_TODO",todoToEdit:e})}))},children:Object(L.jsx)(C.a,{icon:A.c})}),Object(L.jsx)("button",{className:"check-btn",title:"Check/Un-Check",onClick:function(){t.isDone=!t.isDone,n(g(t))},children:t.isDone?Object(L.jsx)(C.a,{icon:A.a}):Object(L.jsx)(C.a,{icon:A.b})})]})]})},F=(n(71),function(e){var t=e.todos;return Object(L.jsxs)("div",{className:"todo-list",children:[Object(L.jsxs)("div",{className:"titles",children:[Object(L.jsx)("div",{className:"desc-wrapper",children:Object(L.jsx)("h3",{children:"Description"})}),Object(L.jsx)("div",{className:"createdAt-wrapper",children:Object(L.jsx)("h3",{children:"Created At"})}),Object(L.jsx)("div",{className:"actions-wrapper",children:Object(L.jsx)("h3",{children:"Actions"})})]}),t&&t.map((function(e){return Object(L.jsx)(I,{todo:e},e._id)}))]})}),P=(n(72),function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.todoReducer.todoToEdit})),n=Object(r.useState)({description:""}),c=Object(d.a)(n,2),a=c[0],o=c[1];Object(r.useEffect)((function(){t&&o(t)}),[t]);var u=function(){var t=Object(p.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n.preventDefault(),t.next=4,e(g(a));case 4:o({description:""}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("err:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),j=a.description;return Object(L.jsx)("div",{className:"todo-edit",children:Object(L.jsxs)("form",{className:"add-form",onSubmit:u,children:[Object(L.jsxs)("div",{className:"add-wrapper",children:[Object(L.jsx)("label",{htmlFor:"description",children:t?"Edit Todo: ":"Add Todo: "}),Object(L.jsx)("input",{placeholder:"What to do?",required:!0,type:"text",id:"description",value:j,onChange:function(e){var t=e.target,n=t.name,r="number"===t.type?+t.value:t.value;o((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(s.a)({},n,r))}))},name:"description"})]}),Object(L.jsx)("button",{title:"Save",className:"save-btn",children:Object(L.jsx)(C.a,{icon:A.d})})]})})}),R=(n(73),function(e){var t=e.dates,n=e.searchStr,r=e.handleChange;return Object(L.jsx)("div",{children:Object(L.jsxs)("form",{className:"todo-filter",onSubmit:function(e){return e.preventDefault()},children:[Object(L.jsxs)("div",{className:"desc-wrapper",children:[Object(L.jsx)("label",{htmlFor:"search",children:"Search: "}),Object(L.jsx)("input",{placeholder:"By description",type:"text",id:"searchStr",name:"searchStr",value:n,onChange:r})]}),Object(L.jsxs)("div",{className:"date-wrapper",children:[Object(L.jsx)("label",{htmlFor:"date",children:"By Date: "}),Object(L.jsxs)("select",{onChange:r,defaultValue:"",type:"number",name:"byDate",children:[Object(L.jsx)("option",{value:"",label:"All"}),t&&t.map((function(e,t){return Object(L.jsx)("option",{value:e,label:new Date(e).toLocaleString()},t)}))]})]})]})})}),U=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.todoReducer.todos})),n=Object(r.useState)([]),c=Object(d.a)(n,2),a=c[0],o=c[1],j=Object(r.useState)({searchStr:"",byDate:""}),O=Object(d.a)(j,2),f=O[0],h=O[1],v=Object(r.useState)(),x=Object(d.a)(v,2),m=x[0],T=x[1],w=function(){var e=Object(u.a)(t);f.searchStr&&(e=e.filter((function(e){return e.description.toLowerCase().includes(f.searchStr.toLowerCase())}))),f.byDate&&(e=e.filter((function(e){return e.createdAt===+f.byDate}))),o(e||t)};return Object(r.useEffect)((function(){var t;e(function(){var e=Object(p.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.query(t);case 3:r=e.sent,n({type:"SET_TODOS",todos:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(r.useEffect)((function(){w()}),[f]),Object(r.useEffect)((function(){w(),function(){var e=t.map((function(e){return e.createdAt}));T(Object(u.a)(new Set(e)))}()}),[t]),Object(L.jsxs)("div",{className:"todo-app",children:[Object(L.jsx)("h1",{className:"logo-title",children:"Todo-List"}),Object(L.jsx)(P,{}),Object(L.jsx)(R,{dates:m,searchStr:f.searchStr,handleChange:function(e){var t=e.target,n=t.name,r="number"===t.type?+t.value:t.value;h(Object(i.a)(Object(i.a)({},f),{},Object(s.a)({},n,r)))}}),Object(L.jsx)(F,{todos:a})]})},B=function(){return Object(L.jsx)("div",{className:"App",children:Object(L.jsx)(U,{})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},V=n(8),q=n(35),G={todos:[],todoToEdit:null};var J=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||V.d,X=Object(V.c)({todoReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EDIT_TODO":return Object(i.a)(Object(i.a)({},e),{},{todoToEdit:t.todoToEdit?t.todoToEdit:null});case"SET_TODOS":return Object(i.a)(Object(i.a)({},e),{},{todos:t.todos});case"ADD_TODO":return Object(i.a)(Object(i.a)({},e),{},{todos:[].concat(Object(u.a)(e.todos),[t.todo])});case"REMOVE_TODO":return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.filter((function(e){return e._id!==t.todoId}))});case"UPDATE_TODO":var n=t.updatedTodo;return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.map((function(e){return e._id===n._id?n:e}))});default:return e}}}),H=Object(V.e)(X,J(Object(V.a)(q.a)));o.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(l.a,{store:H,children:Object(L.jsx)(B,{})})}),document.getElementById("root")),M()}},[[74,1,2]]]);
//# sourceMappingURL=main.1e608a92.chunk.js.map